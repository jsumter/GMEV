#Tests the sensors and haptic control modules
#You need to save GMEV_Sensors and HAPTIC_CONTROL files to run this
#I used the board GPIO assignments, so it should work with Pi3 & Pi4, but double check the pins


import serial
import time
import RPi.GPIO as GPIO
import GMEV_Sensors
import HAPTIC_CONTROL


GPIO.setmode(GPIO.BOARD)
GPIO.setwarnings(False)
motor1 = 11
motor2 = 15
motor3 = 16
IR = 13
GPIO.setup(motor1,GPIO.OUT)
GPIO.setup(motor2,GPIO.OUT)
GPIO.setup(motor3,GPIO.OUT)
GPIO.setup(IR,GPIO.IN)


while True:
    LIDAR1 = GMEV_Sensors.LIDAR_GPIO()
    distance = LIDAR1
    haptic1 = HAPTIC_CONTROL.motortop(motor1, distance)
    top_motor = haptic1 
    haptic2 = HAPTIC_CONTROL.motorbot(motor2, distance)
    bottom_motor = haptic2
    
    Infrared = GMEV_Sensors.IR(IR)
    IR_Signal = Infrared
    haptic3 = HAPTIC_CONTROL.IR(motor3, IR_Signal)
    motorback = haptic3
    #print(distance)
    #print(top_motor)
    #print(bottom_motor)
    #print(IR_Signal)   
